<div
  class="new-tab-container"
  (contextmenu)="openBookmarkContextMenu($event, undefined)"
>
  <div
    class="tab-group-grid"
    [ngStyle]="{ 'grid-template-columns': 'repeat(' + columns + ', 1fr)' }"
  >
    <ng-container *ngFor="let tabGroup of tabGroups">
      <div>
        <a
          class="tab-group-card"
          (click)="openTabGroup(tabGroup)"
          (contextmenu)="openTabContextMenu($event, tabGroup)"
        >
          <p class="is-size-7">{{ tabGroup.title }}</p>
        </a>
      </div>
    </ng-container>
  </div>

  <nav
    class="breadcrumb has-succeeds-separator"
    aria-label="breadcrumbs"
    *ngIf="breadcrumb!.length > 1"
  >
    <ul>
      <li
        *ngFor="let crumb of breadcrumb; let last = last"
        [class.is-active]="last"
      >
        <a
          *ngIf="!last; else current"
          (click)="navigateToCrumb(crumb)"
          style="cursor: pointer"
        >
          <span class="icon is-small">
            <i class="fas fa-home" aria-hidden="true"></i>
          </span>
          {{ crumb.title }}
        </a>
        <ng-template #current>
          <span class="icon is-small">
            <i class="fas fa-home" aria-hidden="true"></i>
          </span>
          <span>{{ crumb.title }}</span>
        </ng-template>
      </li>
    </ul>
  </nav>

  <div
    *ngIf="currentFolder"
    class="bookmark-grid"
    [ngStyle]="{ 'grid-template-columns': 'repeat(' + columns + ', 1fr)' }"
  >
    <ng-container
      *ngFor="let bookmark of currentFolder.children; trackBy: trackById"
    >
      <div [ngSwitch]="bookmark.type" *ngIf="!bookmark.deleted">
        <div *ngSwitchCase="'bookmark'">
          <a
            [href]="bookmark.url"
            class="bookmark-card"
            (contextmenu)="openBookmarkContextMenu($event, bookmark)"
          >
            <div class="card-image">
              <figure class="image is-64x64">
                <img [src]="bookmark.favIconUrl" />
              </figure>
            </div>
            <div class="card-content">
              <p class="is-size-7">
                {{ bookmark.title | slice: 0 : 16 }}
              </p>
            </div>
          </a>
        </div>
        <div *ngSwitchCase="'bookmarkFolder'">
          <a
            class="bookmark-card"
            (click)="openBookmarkFolder(bookmark)"
            (contextmenu)="openBookmarkContextMenu($event, bookmark)"
          >
            <figure class="image is-64x64">
              <img [src]="bookmark.favIconUrl" />
            </figure>
            <p class="is-size-7">{{ bookmark.title }}</p>
          </a>
        </div>
      </div>
    </ng-container>
  </div>
</div>
<app-modal-host></app-modal-host>
